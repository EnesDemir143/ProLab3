<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Three Column Layout</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
            background-color: #f8f9fa;
            color: #2c3e50;
        }

        .container {
            display: flex;
            height: 100%;
            width: 100%;
            background: linear-gradient(145deg, #f8f9fa, #ffffff);
        }

        .left-panel {
            width: 20%;
            background: linear-gradient(135deg, #ffffff, #f1f3f5);
            padding: 25px;
            overflow-y: auto;
            border-right: 1px solid rgba(0,0,0,0.05);
            box-shadow: 2px 0 5px rgba(0,0,0,0.03);
        }

        .center-panel {
            width: 60%;
            background-color: #ffffff;
            padding: 25px;
            overflow-y: auto;
            box-shadow: 0 0 15px rgba(0,0,0,0.05);
        }

        .right-panel {
            width: 20%;
            background: linear-gradient(225deg, #ffffff, #f1f3f5);
            padding: 25px;
            overflow-y: auto;
            border-left: 1px solid rgba(0,0,0,0.05);
            box-shadow: -2px 0 5px rgba(0,0,0,0.03);
        }

        .panel-content {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .ister-container {
            display: flex;
            flex-direction: column;
            height: 100%;
            gap: 15px;
            padding: 5px;
        }

        .ister-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05),
                        0 1px 3px rgba(0,0,0,0.1);
            padding: 20px;
            transition: all 0.3s ease;
        }

        .ister-label {
            font-size: 1.1em;
            font-weight: 600;
            color: #1a73e8;
            margin-bottom: 12px;
            letter-spacing: 0.3px;
            text-transform: uppercase;
            font-size: 0.9em;
        }
        .step {
        background-color: #f1f3f5;
        margin: 5px 0;
        padding: 10px;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        font-size: 0.9em;
        color: #333;
    }
        /* Enhanced output card for İSTER 6 */
.output-card {
    background-color: #ffffff;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-top: 15px;
    font-size: 1.1em;
    color: #333;
    line-height: 1.6;
    transition: transform 0.3s ease;
}

.output-card:hover {
    transform: translateY(-5px);
}

/* Error message box */
.error-box {
    background-color: #f8d7da;
    border: 1px solid #f5c6cb;
    color: #721c24;
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
    font-size: 1em;
    line-height: 1.5;
}

/* Heading of the output area */
#enes h3 {
    font-size: 1.4em;
    font-weight: 600;
    color: #1a73e8;
    margin-bottom: 15px;
}


        .ister-input {
            padding: 8px 12px;
            border: 2px solid #e1e4e8;
            border-radius: 8px;
            font-size: 0.9em;
            transition: all 0.3s ease;
            background-color: #f8f9fa;
            color: #2c3e50;
            line-height: 1.2;
            margin-bottom: 8px;
            height: 35px;
        }

        textarea.ister-input {
            height: 60px;
            resize: none;
        }

        .ister-input:focus {
            outline: none;
            border-color: #1a73e8;
            box-shadow: 0 0 0 3px rgba(26,115,232,0.2);
            background-color: #ffffff;
        }
        /* Style for the output card */
.output-card {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 20px;
    margin: 20px 0;
    background-color: #f9f9f9;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Style for the path details container */
.path-details {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* Style for each individual path detail box */
.path-detail {
    padding: 15px;
    border: 1px solid #ccc;
    border-radius: 5px;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* Optional: Style the headers for better clarity */
.path-detail strong {
    display: block;
    font-size: 16px;
    color: #333;
}


        #enes p {
            font-size: 0.5em; /* Çıktı kısmındaki yazıyı küçültme */
        }
        .approve-button {
            padding: 8px 16px;
            background-color: #1a73e8;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 8px;
            align-self: flex-end;
        }

/* Button hover effect for İSTER 6 */
.calculate-button {
    padding: 8px 16px;
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 0.9em;
    cursor: pointer;
    transition: all 0.2s ease;
    margin-top: 8px;
    align-self: flex-end;
}

.calculate-button:hover {
    opacity: 0.9;
    transform: scale(1.05);
}

.calculate-button:active {
    transform: translateY(1px);
}
/* Hover effect for all results in İSTER 1 */
.ister-item:hover {
    transform: translateY(-5px) translateZ(10px); /* Move forward and upward */
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); /* Soft shadow */
    transition: all 0.3s ease;
}

/* Hover effect for output steps in İSTER 1 (the output steps or results) */
.step:hover {
    transform: translateY(-5px) translateZ(10px); /* Move forward on hover */
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); /* Soft shadow */
    transition: all 0.3s ease;
}

/* Hover effect for input fields inside İSTER 1 results */
.ister-input:hover {
    border-color: #1a73e8; /* Border color change */
    box-shadow: 0 0 0 3px rgba(26,115,232,0.2); /* Glow effect */
    background-color: #ffffff; /* Background change on hover */
}

/* Hover effect for buttons inside İSTER 1 */
.approve-button:hover {
    opacity: 0.9; /* Slightly transparent on hover */
    transform: scale(1.05); /* Slight scale effect */
}

.approve-button:active {
    transform: translateY(1px); /* Button press effect */
}
/* Main output card container */
.output-card {
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    padding: 15px;
    margin-top: 10px;
}

/* Container for path details */
.path-details {
    display: flex;
    flex-direction: column;
    gap: 15px;
    width: 100%;
}

/* Individual path detail boxes */
.path-detail {
    background-color: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 6px;
    padding: 12px;
    margin-bottom: 10px;
    transition: transform 0.2s ease;
}

/* Styling for the headers within path details */
.path-detail strong {
    display: block;
    color: #1a73e8;
    font-size: 0.75em;  /* Reduced font size for headers */
    text-transform: uppercase;
    letter-spacing: 0.3px;
    margin-bottom: 6px;
    border-bottom: 1px solid #e9ecef;
    padding-bottom: 4px;
}

/* Content styling within path details */
.path-detail br + text {
    font-size: 0.85em;  /* Reduced font size for content */
    color: #2c3e50;
    line-height: 1.4;
}

/* Regular text within path details */
.path-detail {
    font-size: 0.85em;  /* Reduced font size for all text */
}

/* Header styling for the output panel */
#enes h3 {
    font-size: 1em;  /* Reduced font size for main header */
    font-weight: 600;
    color: #2c3e50;
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 1px solid #e1e4e8;
}

/* Hover effect */
.path-detail:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* Error box styling */
.error-box {
    background-color: #fff3f3;
    border: 1px solid #ffcdd2;
    border-radius: 6px;
    padding: 10px;
    margin-top: 10px;
    color: #d32f2f;
    font-size: 0.85em;  /* Reduced font size for errors */
}

/* Animation for new content */
.path-detail {
    animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(5px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Hover effect for all results in İSTER 1 */
.ister-item:hover {
    transform: translateY(-5px) translateZ(10px); /* Move forward and upward */
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); /* Soft shadow */
    transition: all 0.3s ease;
}

/* Hover effect for input fields inside İSTER 1 results */
.ister-input:hover {
    border-color: #1a73e8; /* Border color change */
    box-shadow: 0 0 0 3px rgba(26,115,232,0.2); /* Glow effect */
    background-color: #ffffff; /* Background change on hover */
}

/* Hover effect for buttons inside İSTER 1 */
.approve-button:hover {
    opacity: 0.9; /* Slightly transparent on hover */
    transform: scale(1.05); /* Slight scale effect */
}

.approve-button:active {
    transform: translateY(1px); /* Button press effect */
}


        .approve-button:hover, .calculate-button:hover {
            opacity: 0.9;
        }

        .approve-button:active, .calculate-button:active {
            transform: translateY(1px);
        }

        .panel-header {
            font-size: 1.5em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e1e4e8;
        }

        .error {
            border: 2px solid #dc3545;
        }

        @media screen and (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .left-panel,
            .center-panel,
            .right-panel {
                width: 100%;
                height: auto;
                border: none;
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="left-panel">
            <div class="panel-content">
                <h2 class="panel-header" id="enes">ÇIKTI EKRANI</h2>
            </div>
        </div>

        <div class="center-panel">
            <div class="panel-content">
                <h2 class="panel-header">Main Content Area</h2>
                <p>{{ author_name }}</p>
            </div>
        </div>

        <div class="right-panel">
            <div class="panel-content">
                <div class="ister-container">
                    <div class="ister-item" id="ister1">
                        <label class="ister-label">1.İSTER</label>
                        <input type="text" class="ister-input" id="idA" placeholder="ID A için giriş yapın...">
                        <input type="text" class="ister-input" id="idB" placeholder="ID B için giriş yapın...">
                        <button class="approve-button">Onayla</button>
                    </div>
                <div id="ister2" class="ister-item">
                    <label class="ister-label">2.İSTER</label>
                    <input type="text" id="idStartNode" class="ister-input" placeholder="Başlangıç Düğümü">
                    <button class="approve-button">Hesapla</button>
                </div>

                    <div class="ister-item" id="ister3">
                        <label class="ister-label">3.İSTER</label>
                        <input type="text" class="ister-input" id="ister1ID" placeholder="1. İster ID'si...">
                        <button class="approve-button">Onayla</button>
                    </div>
                    <div class="ister-item" id="ister4">
                        <label class="ister-label">4.İSTER</label>
                        <input type="text" class="ister-input" id="idD" placeholder="ID D için giriş yapın...">
                        <button class="approve-button">Onayla</button>
                    </div>
                    <div class="ister-item" id="ister5">
                        <label class="ister-label">5.İSTER</label>
                        <input type="text" class="ister-input" id="idE" placeholder="ID E için giriş yapın...">
                        <button class="approve-button">Onayla</button>
                    </div>
                    <div class="ister-item" id="ister6">
                        <label class="ister-label">6. İSTER</label>
                        <button class="calculate-button">Hesapla</button>
                    </div>
                    <div class="ister-item" id="ister7">
                    <label class="ister-label">7. İSTER</label>
                    <input type="text" class="ister-input" id="idF" placeholder="ID F için giriş yapın...">
                    <button class="approve-button">Onayla</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>


        // Onaylama işlevselliği
        function setupInputValidation(inputs, button, validationCallback) {
            inputs.forEach(input => {
                input.addEventListener('input', () => {
                    if (validationCallback(inputs)) {
                        button.disabled = false;
                    } else {
                        button.disabled = true;
                    }
                });
            });
        }

        // Giriş doğrulama
        function validateInputs(inputs) {
            return inputs.every(input => input.value.trim() !== '');
        }

// Butonları etkileşimli hale getirme
const buttons = document.querySelectorAll('.approve-button');
buttons.forEach(button => {
    const inputs = button.closest('.ister-item').querySelectorAll('.ister-input');

    // Before performing action, clear the output below the "Çıktı:" header
    button.addEventListener('click', () => {
        const outputPanel = document.querySelector('#enes'); // Left panel output section

        // Find and clear the content below the header
        const outputContent = outputPanel.querySelector('p');
        if (outputContent) {
            outputContent.remove(); // Remove the paragraph or output below the header
        }

        // Then perform the normal button action
        setupInputValidation(inputs, button, validateInputs);
    });
});

// Button click for 1st "İSTER"
const ister1Button = document.querySelector('#ister1 .approve-button');
ister1Button.addEventListener('click', () => {
    // Get the input values for start_node and end_node
    const startNode = document.querySelector('#idA').value;
    const endNode = document.querySelector('#idB').value;

    // Fetch the output for /ister1 route
    fetch('/ister1', {
        method: 'POST',
        body: new URLSearchParams({
            start_node: startNode,
            end_node: endNode
        })
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Sunucudan geçersiz yanıt alındı');
        }
        return response.json();
    })
    .then(data => {
        const outputPanel = document.querySelector('#enes'); // Left panel output section

        if (data.output) {
            // Clear previous output and display the new one
            outputPanel.innerHTML = `<h3>Çıktı Ekranı:</h3>`;
            const steps = data.output.split("\n"); // Output split by newlines (steps)

            steps.forEach(step => {
                const stepDiv = document.createElement('div');
                stepDiv.classList.add('step');  // You can style each step using this class
                stepDiv.innerHTML = `<p>${step}</p>`; // Add each step in a paragraph
                outputPanel.appendChild(stepDiv);
            });
        } else if (data.error) {
            // Display error message
            outputPanel.innerHTML = `<h3>Hata:</h3><p>${data.error}</p>`;
        }
    })
    .catch(error => {
        console.error('Hata:', error);
        alert('Bir hata oluştu.');
    });
});



const calculateButton = document.querySelector('.calculate-button');
calculateButton.addEventListener('click', () => {
    fetch('/ister6', { method: 'POST' })
        .then(response => {
            if (!response.ok) {
                throw new Error('Sunucudan geçersiz yanıt alındı');
            }
            return response.json();
        })
        .then(data => {
            const outputPanel = document.querySelector('#enes');
            outputPanel.innerHTML = '<h3>Çıktı Ekranı:</h3>';

            if (data.output) {
                const outputCard = document.createElement('div');
                outputCard.classList.add('output-card');

                const pathDetails = document.createElement('div');
                pathDetails.classList.add('path-details');

                // Çıktıyı satırlara böl
                const outputLines = data.output.split('\n');

                // En kısa yollar listesi için div
                if (outputLines[0]) {
                    const pathsDiv = document.createElement('div');
                    pathsDiv.classList.add('path-detail');
                    pathsDiv.innerHTML = `<strong>En Kısa Yollar:</strong><br>${outputLines[0].replace('En kısa yollar:', '')}`;
                    pathDetails.appendChild(pathsDiv);
                }

                // Toplam uzunluk için div
                if (outputLines[1]) {
                    const lengthDiv = document.createElement('div');
                    lengthDiv.classList.add('path-detail');
                    lengthDiv.innerHTML = `<strong>Toplam Uzunluk:</strong><br>${outputLines[1].replace('Toplam uzunluk:', '')}`;
                    pathDetails.appendChild(lengthDiv);
                }

                outputCard.appendChild(pathDetails);
                outputPanel.appendChild(outputCard);
            } else if (data.error) {
                const errorBox = document.createElement('div');
                errorBox.classList.add('error-box');
                errorBox.innerHTML = `<p><strong>Hata:</strong> ${data.error}</p>`;
                outputPanel.appendChild(errorBox);
            }
        })
        .catch(error => {
            console.error('Hata:', error);
            const outputPanel = document.querySelector('#enes');
            outputPanel.innerHTML = '<h3>Çıktı Ekranı:</h3>';
            const errorBox = document.createElement('div');
            errorBox.classList.add('error-box');
            errorBox.innerHTML = `<p><strong>Hata:</strong> ${error.message}</p>`;
            outputPanel.appendChild(errorBox);
        });
});
fetch('/ister7', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
    },
    body: new URLSearchParams({
        'start_node': 'A'  // Replace with your starting node
    })
})
.then(response => response.json())
.then(data => {
    if (data.success) {
        console.log(data.output);
        // Update your UI with the output
    } else {
        console.error(data.error);
        // Handle the error in your UI
    }
})
.catch(error => console.error('Error:', error));
// Button click for 7th "İSTER"
// Button click for 7th "İSTER"
const ister7Button = document.querySelector('#ister7 .approve-button');
ister7Button.addEventListener('click', () => {
    // Get the input value
    const startNode = document.querySelector('#idF').value || 'A'; // Use input value or default to 'A'

    fetch('/ister7', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
    },
    body: new URLSearchParams({
        start_node: startNode
    })
})
.then(response => {
    if (!response.ok) {
        throw new Error('Sunucudan geçersiz yanıt alındı');
    }
    return response.json();
})
.then(data => {
    const outputPanel = document.querySelector('#enes');
    outputPanel.innerHTML = '<h3>Çıktı Ekranı:</h3>';

    console.log('Received data:', data);

    if (data && data.output) {
        const outputCard = document.createElement('div');
        outputCard.classList.add('output-card');

        const pathDetails = document.createElement('div');
        pathDetails.classList.add('path-details');

        // Çıktıyı satırlara böl
        const outputLines = data.output.split('\n');

        // En uzun yol için div
        if (outputLines[0]) {
            const pathDiv = document.createElement('div');
            pathDiv.classList.add('path-detail');
            pathDiv.innerHTML = `<strong>En Uzun Yol:</strong><br>${outputLines[0].replace('En uzun yol: ', '')}`;
            pathDetails.appendChild(pathDiv);
        }

        // Yol uzunluğu için div
        if (outputLines[1]) {
            const lengthDiv = document.createElement('div');
            lengthDiv.classList.add('path-detail');
            lengthDiv.innerHTML = `<strong>Yol Uzunluğu:</strong><br>${outputLines[1].replace('Yol uzunluğu: ', '')}`;
            pathDetails.appendChild(lengthDiv);
        }

        outputCard.appendChild(pathDetails);
        outputPanel.appendChild(outputCard);
    } else {
        const errorBox = document.createElement('div');
        errorBox.classList.add('error-box');
        errorBox.innerHTML = `<p><strong>Hata:</strong> Sunucudan beklenen veri alınamadı. Alınan veri: ${JSON.stringify(data)}</p>`;
        outputPanel.appendChild(errorBox);
    }
})
.catch(error => {
    console.error('Hata:', error);
    const outputPanel = document.querySelector('#enes');
    outputPanel.innerHTML = '<h3>Çıktı Ekranı:</h3>';
    const errorBox = document.createElement('div');
    errorBox.classList.add('error-box');
    errorBox.innerHTML = `<p><strong>Hata:</strong> ${error.message}</p>`;
    outputPanel.appendChild(errorBox);
});
});

    // Button click for 2nd "İSTER"
const ister2Button = document.querySelector('#ister2 .approve-button');
ister2Button.addEventListener('click', () => {
    // Get the input value for the start_node
    const startNode = document.querySelector('#idStartNode').value; // Replace with your actual input field ID

    // Fetch the output for /ister2 route
    fetch('/ister2', {
        method: 'POST',
        body: new URLSearchParams({
            start_node: startNode
        })
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Sunucudan geçersiz yanıt alındı');
        }
        return response.json();
    })
    .then(data => {
        const outputPanel = document.querySelector('#enes'); // Left panel output section
        outputPanel.innerHTML = '<h3>Çıktı Ekranı:</h3>';

        if (data.output) {
            const outputLines = data.output.split('\n');

            // Create a div to hold the output
            const outputCard = document.createElement('div');
            outputCard.classList.add('output-card');

            // For each step in the output, create a step div and add to the output panel
            outputLines.forEach((line, index) => {
                const stepDiv = document.createElement('div');
                stepDiv.classList.add('step');
                stepDiv.innerHTML = `<h4>Adım ${index + 1}:</h4><p>${line}</p>`; // Adding step and output line
                outputCard.appendChild(stepDiv);
            });

            outputPanel.appendChild(outputCard);
        } else if (data.error) {
            const errorBox = document.createElement('div');
            errorBox.classList.add('error-box');
            errorBox.innerHTML = `<p><strong>Hata:</strong> ${data.error}</p>`;
            outputPanel.appendChild(errorBox);
        }
    })
    .catch(error => {
        console.error('Hata:', error);
        const outputPanel = document.querySelector('#enes');
        outputPanel.innerHTML = '<h3>Çıktı Ekranı:</h3>';
        const errorBox = document.createElement('div');
        errorBox.classList.add('error-box');
        errorBox.innerHTML = `<p><strong>Hata:</strong> ${error.message}</p>`;
        outputPanel.appendChild(errorBox);
    });
});


    </script>
</body>
</html>
